---
title: 花生壳 ubuntu 内网穿透的使用 
tags: 内网穿透,花生壳,ubuntu
grammar_cjkRuby: true
date: 2018-5-30
---


---
## 准备

- 一个花生壳账号（购买 6 元内网穿透服务）
- 一个公网域名（通过内网穿透的认证，会免费赠送一个公网域名）



---
## 步骤

- **ubuntu 安装 phddns 服务**
- **在花生壳=>帐号列表=>添加设备=>输入 SN 码，关联帐号**
- **在内网穿透的内网映射配置参数**
- **配置成功后访问动态分配的域名端口**


---
## 实践

- **ubuntu 安装 phddns 服务**

	- 下载 [linux 安装包](https://hsk.oray.com/download/)

	- 安装 phddns 客户端

		``` dos?linenums
		sudo dpkg -i phddns_3.0_x86_64.deb 
		```
	- 安装成功后，会显示 SN 码与默认密码

	- 启动服务

		``` dos?linenums
		sudo phddns start
		```

- **在花生壳帐号列表添加设备输入 SN 码，关联帐号**

	- 在[花生壳帐号列表](https://hsk.oray.com/console/manage/)  点击 添加设备 ，输入 SN 码

- **在内网穿透的内网映射配置参数**

	- 在[内网穿透](https://b.oray.com/forward/) 模块下点击 添加映射 ，配置
		- 应用名称：你的服务名字
		- 选择域名：如果没有购买域名，就是默认的域名
		- 映射类型：非 80 端口
		- 外网端口：没有固定端口号，只能被随机分配
		- 内网主机：127.0.0.1
		- 内网端口：127.0.0.1 跑的项目端口

- **配置成功后访问动态分配的域名端口**

	- 配置成功后，会跳转到[内网穿透](https://b.oray.com/forward/)模块，可以看到 映射列表 ，在浏览器输入 外网访问地址 ，就可以在全网访问了。

| 外网访问地址 | 应用名称 | 内网访问地址 | 已用流量/月 | 操作 |
| -- | - | - | - | - |
| xxx | xxx | xxx | xxx | xxx |


---
## 完